{"version":3,"sources":["activity.js","all.js","index.js","restaurant.js","scenicSpot.js","swiper.js","util.js"],"names":["activity_themeArea","document","querySelector","activity_searchResult","activity_categoryInner","activity_searchCity","activity_searchKeyword","activity_searchBtn","activity_categoryList","activity_resultList","search_resultNum","activity_breadcrumb","activityInner_bannerSlides","querySelectorAll","activityInner_bannerBullets","activityInner_mame","activityInner_category","activityInner_description","activityInner_time","activityInner_phone","activityInner_organizer","activityInner_address","activityInner_websiteUrl","activityInner_charge","activityInner_remarks","activityInner_map","activityInner_recommend","data_activity","data_activityResult","activity_getAllData","token","JSON","parse","cookie","replace","undefined","$","ajax","type","url","baseUrl","headers","async","success","data","thisData","filter","item","ActivityName","City","Class1","error","xhr","textStatus","thrownError","console","log","addEventListener","activity_changeCategory","e","preventDefault","categoryVal","target","closest","dataset","category","category_resultList","data_spotResult","activity_renderResult","textContent","length","innerHTML","arr","str","forEach","ActivityID","Picture","PictureUrl1","DescriptionDetail","classList","toggle","city","value","keyword","trim","search_activity","resurltData","match","activityInner_getData","id","targetId","activityInner_renderData","activityInner_renderRecommend","bannerPhoto_num","PictureDescription1","PictureUrl2","PictureDescription2","remove","add","PictureUrl3","PictureDescription3","Description","StartTime","slice","EndTime","setAttribute","Phone","Organizer","Address","WebsiteUrl","Charge","Remarks","i","dataIndex","getRandom","dataItem","activity_getParameters","location","search","searchUrl","split","includes","parameters","parameter","index","decodeURIComponent","getAuthorizationHeader","get_activity","get_scenicSpot","get_restaurant","scenicSpot_getAllData","restaurant_getAllData","pathname","scenicSpot_getParameters","restaurant_getParameters","toggleLoading","setTimeout","grant_type","client_id","client_secret","auth_url","crossDomain","dataType","access_token","stringify","expires_in","Date","home_activity","home_scenicSpot","home_restaurant","home_searchBtn","render_activity","data_scenicSpot","ScenicSpotName","render_scenicSpot","data_restaurant","RestaurantName","Class","render_restaurant","month","getMonth","year","getFullYear","checkDate","parseInt","ScenicSpotID","RestaurantID","search_keyword","search_type","encodedStr","encodeURIComponent","window","href","restaurant_themeArea","restaurant_searchResult","restaurant_categoryInner","restaurant_searchCity","restaurant_searchKeyword","restaurant_searchBtn","restaurant_categoryList","restaurant_resultList","restaurant_breadcrumb","restaurantInner_bannerSlides","restaurantInner_bannerBullets","restaurantInner_mame","restaurantInner_category","restaurantInner_description","restaurantInner_time","restaurantInner_phone","restaurantInner_address","restaurantInner_websiteUrl","restaurantInner_map","restaurantInner_recommend","data_restaurantResult","restaurant_changeCategory","restaurant_renderResult","search_restaurant","restaurantInner_getData","restaurantInner_renderData","restaurantInner_renderRecommend","OpenTime","scenicSpot_themeArea","scenicSpot_categoryInner","scenicSpot_searchResult","scenicSpot_searchCity","scenicSpot_searchKeyword","scenicSpot_searchBtn","scenicSpot_categoryList","scenicSpot_resultList","scenicSpot_breadcrumb","scenicSpotInner_bannerSlides","scenicSpotInner_bannerBullets","scenicSpotInner_mame","scenicSpotInner_category","scenicSpotInner_description","scenicSpotInner_opentTime","scenicSpotInner_phone","scenicSpotInner_address","scenicSpotInner_websiteUrl","scenicSpotInner_ticketInfo","scenicSpotInner_remarks","scenicSpotInner_map","scenicSpotInner_recommend","beforeSend","complete","scenicSpot_changeCategory","scenicSpot_renderResult","search_scenicSpot","scenicSpotInner_getData","scenicSpotInner_renderData","scenicSpotInner_renderRecommend","TicketInfo","swiper_heroBanner","Swiper","cssMode","slidesPerView","loop","autoplay","disableOnInteraction","delay","navigation","nextEl","prevEl","pagination","el","clickable","swiper_homeSpots","spaceBetween","grid","rows","fill","breakpoints","swiper_homeRestaurant","swiper_spotsBanner","swiper_activityBanner","swiper_restaurantBanner","swiper_recommend","on","toggleClass","lastPos","currentPos","scrollY","css","scrollTop","hasClass","addClass","animate","num","Math","floor","random","show","style","display"],"mappings":"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","file":"all.js","sourcesContent":["\n// 主要區塊 DOM \nconst activity_themeArea = document.querySelector('.activity_themeArea');\nconst activity_searchResult = document.querySelector('.activity_searchResult');\nconst activity_categoryInner = document.querySelector('.activity_categoryInner');\n\n\n// 搜尋欄位 DOM  \nconst activity_searchCity = document.querySelector('.activity_searchCity');\nconst activity_searchKeyword = document.querySelector('.activity_searchKeyword');\nconst activity_searchBtn = document.querySelector('.activity_searchBtn');\n\n\n// 呈現畫面列表 DOM\nconst activity_categoryList = document.querySelector('.activity_categoryList');\nconst activity_resultList = document.querySelector('.activity_resultList');\nconst search_resultNum = document.querySelector('.search_resultNum');\n\n\n//  麵包削列表\nconst activity_breadcrumb = document.querySelector('.activity_breadcrumb')\n\n\n//  呈現節慶活動內頁畫面 DOM\n//    - swiper-banner\nconst activityInner_bannerSlides = document.querySelectorAll('.swiper-activity-banner .swiper-slide');\nconst activityInner_bannerBullets = document.querySelector('.swiper-pagination-bullets');\n\n//    - 景點內容\nconst activityInner_mame = document.querySelector('.activity_name');\nconst activityInner_category = document.querySelector('.activity_category');\nconst activityInner_description = document.querySelector('.activity_description');\nconst activityInner_time = document.querySelector('.activity_time');\nconst activityInner_phone = document.querySelector('.activity_phone');\nconst activityInner_organizer = document.querySelector('.activity_organizer');\nconst activityInner_address = document.querySelector('.activity_address');\nconst activityInner_websiteUrl = document.querySelector('.activity_websiteUrl');\nconst activityInner_charge = document.querySelector('.activity_charge');\nconst activityInner_remarks = document.querySelector('.activity_remarks');\nconst activityInner_map = document.querySelector('.activity_map');\n//    - 推薦景點\nconst activityInner_recommend = document.querySelector('.recommend_activity');\n\n\n\n// 資料 - 節慶活動\nlet data_activity = [];\n\n// 資料 - 篩選類別資料\nlet data_activityResult = [];\n\n\n\n// 節慶活動 - 取得活動全部資料\nfunction activity_getAllData() {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Activity?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                // 回傳的資料\n                const thisData = data;\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                data_activity = thisData.filter((item) => item.ActivityName && item.City && item.Class1);\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 節慶活動 - 切換類別樣式 & 取值\nif (activity_categoryList) {\n    activity_categoryList.addEventListener('click', activity_changeCategory);\n};\n\nfunction activity_changeCategory(e) {\n    e.preventDefault();\n\n    // 取出 卡片類片 的 DOM 和 值\n    let categoryVal = e.target.closest(\"li\").dataset.category;\n\n    // 類別篩選結果\n    let category_resultList = data_activity.filter((item) => item.Class1 === categoryVal);\n\n    data_spotResult = category_resultList;\n\n\n    // 呈現 結果\n    activity_renderResult(data_spotResult);\n\n    // 呈現結果數字\n    search_resultNum.textContent = data_spotResult.length;\n\n    // 更改 麵包削狀態\n    activity_breadcrumb.innerHTML =\n        `<a class=\"text-info\" href=\"./index.html\">首頁</a> /\n    <a class=\"breadcrumb-theme text-info\" href=\"./activity.html\">節慶活動</a> /\n    <a class=\"breadcrumb-category text-secondary\" href=\"#\">${categoryVal}</a>`;\n};\n\n\n// 節慶活動 - 呈現篩選結果\nfunction activity_renderResult(arr) {\n    let str = '';\n\n    // 如果有資料就顯示 類別篩選結果區塊\n    if (!arr.length) {\n        str += `<div class=\"text-center\">\n    <img src=\"./assets/images/nofound80.png\" alt=\"找不到資料\">\n    <p class=\"text-primary fw-bold\">目前查無資料<br>請重新搜尋</p>\n    </div>`\n    } else {\n        arr.forEach((item) => {\n            str += `\n    <div class=\"col-12 col-md-4 col-lg-3 mb-2 mb-md-4\">\n    <div class=\"resultList-card border-0\">\n      <div class=\"ratio ratio-17x9  ratio-md-5x4 rounded-5  overflow-hidden\">\n          <a href=\"./activity.html?id=${item.ActivityID}\">\n              <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${item.Picture.PictureUrl1}\" onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n                  alt=\"${item.DescriptionDetail}\">\n          </a>\n      </div>\n      <div class=\"py-1 py-md-2\">\n          <h5 class=\"card-title-hover fs-m fs-md-xl fw-bold text-truncate mb-1\">${item.ActivityName}\n          </h5>\n          <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                  src=\"./assets/images/spot16.png\" alt=\"spot\">${item.City}</span>\n      </div>\n    </div>\n   </div>`;\n        });\n    }\n\n    // 切換模式  隱藏 → 顯示\n    activity_searchResult.classList.toggle('d-none');\n\n    // 切換模式  顯示 → 隱藏\n    activity_themeArea.classList.toggle('d-none');\n\n    // 呈現結果畫面\n    activity_resultList.innerHTML = str;\n};\n\n\n// 節慶活動 - 搜尋功能 & 關鍵字\nif (activity_searchBtn) {\n    activity_searchBtn.addEventListener('click', function (e) {\n        let city = activity_searchCity.value;\n        let keyword = activity_searchKeyword.value;\n\n        if (keyword.trim() !== '') {\n            search_activity(city, keyword);\n        }\n    });\n};\n\n\nfunction search_activity(city, keyword) {\n\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Activity?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                // 回傳的資料\n                let thisData = data;\n\n                // 篩選結果資料\n                let resurltData = []\n\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                thisData = thisData.filter((item) => item.ActivityName && item.City && item.Class1);\n\n\n                // 如果 city 的值是全部縣市的，把 keyword符合的資料篩選出來\n                if (city === '全部縣市') {\n                    resurltData = thisData.filter((item) => item.ActivityName.match(keyword));\n                } else {\n                    // 如果 city 的值是其他縣市，把 city 和 keyword符合的資料篩選出來\n                    resurltData = thisData.filter((item) => item.City === city && item.ActivityName.match(keyword));\n                }\n\n                //   呈現篩選結果\n                activity_renderResult(resurltData);\n\n                // 呈現結果數字\n                search_resultNum.textContent = resurltData.length;\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 節慶活動內頁 - 取得活動單一資料\nfunction activityInner_getData(id) {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    // 取得單一資料 id\n    const targetId = id;\n\n    if (token !== undefined && targetId !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Activity?%24filter=contains%28ActivityID%2C%27${targetId}%27%29&%24top=30&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                const thisData = data[0];\n\n                //呈現 內頁資料內容\n                activityInner_renderData(thisData);\n\n                //呈現 推薦列表\n                activityInner_renderRecommend(targetId);\n\n                // 隱藏 探索景點主要內容\n                activity_themeArea.classList.toggle('d-none');\n\n                // 顯示 內頁內容\n                activity_categoryInner.classList.toggle('d-none');\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 節慶活動內頁 -  呈現 內頁資料內容\nfunction activityInner_renderData(data) {\n\n\n    // 計算 banner 圖片數量\n    let bannerPhoto_num = 0;\n\n\n    if (activityInner_bannerSlides) {\n\n    }\n    // banner 圖片\n    // 第一張圖片\n    if (data.Picture.PictureUrl1) {\n        activityInner_bannerSlides[0].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl1}\"  alt=\"${data.Picture.PictureDescription1}\">`;\n        bannerPhoto_num++;\n    } else {\n        activityInner_bannerSlides[0].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"./assets/images/NoImage-345x160.png\" alt=\"NoImage\">`;\n        bannerPhoto_num++;\n    };\n\n    // 第二章圖片\n    if (data.Picture.PictureUrl2) {\n        activityInner_bannerSlides[1].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl2}\" alt=\"${data.Picture.PictureDescription2}\">`;\n        bannerPhoto_num++;\n    } else {\n        activityInner_bannerSlides[1].remove();\n        activityInner_bannerBullets.classList.add('d-none');\n    };\n\n    // 第三張圖片\n    if (data.Picture.PictureUrl3) {\n        activityInner_bannerSlides[2].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl3}\" alt=\"${data.Picture.PictureDescription3}\">`;\n        bannerPhoto_num++;\n    } else {\n        activityInner_bannerSlides[2].remove();\n        activityInner_bannerBullets.classList.add('d-none');\n    };\n\n    // 圖片少於一張或剛好一張，把導覽方向鍵取消\n    if (bannerPhoto_num <= 1) {\n        document.querySelector('.swiper-button-next').classList.add('d-md-none');\n        document.querySelector('.swiper-button-prev').classList.add('d-md-none');\n    }\n\n\n    // 麵包削\n    activity_breadcrumb.innerHTML = `<a class=\"text-info\" href=\"./index.html\">首頁</a> /\n    <a class=\"breadcrumb-theme text-info\" href=\"./activity.html\">節慶活動</a> /\n    <a class=\"breadcrumb-city text-info\" href=\"#\">${data.City}</a> /\n    <a class=\"breadcrumb-location text-secondary\" href=\"#\">${data.ActivityName}</a>`;\n\n\n    // 活動名稱\n    activityInner_mame.textContent = data.ActivityName;\n    // 活動類別\n    activityInner_category.textContent = `# ${data.Class1}`;\n    // 活動介紹\n    activityInner_description.textContent = data.Description;\n    // 活動時間\n    activityInner_time.textContent = `${data.StartTime.slice(0, 10)}  ~ ${data.EndTime.slice(0, 10)}` || '無';\n    // 活動電話\n    activityInner_phone.setAttribute('href', `tel:+${data.Phone}`);\n    activityInner_phone.textContent = data.Phone || '無';\n    //主辦單位\n    activityInner_organizer.textContent = data.Organizer || '無';\n    // 活動地址\n    activityInner_address.textContent = data.Address || '無';\n    // 活動網址\n    activityInner_websiteUrl.setAttribute('href', data.WebsiteUrl);\n    activityInner_websiteUrl.textContent = data.WebsiteUrl || '無';\n    // 活動售票資訊\n    activityInner_charge.textContent = data.Charge || '無';\n    // 活動注意事項\n    activityInner_remarks.textContent = data.Remarks || '無';\n    // 活動地圖\n    activityInner_map.innerHTML = `<iframe class=\"rounded-4\"\n  src=\"https://www.google.com/maps?q=${data.Address}(${data.ActivityName})&hl=zh-TW&z=15&t=&output=embed\"\n  width=\"600\" height=\"450\" style=\"border:0;\" allowfullscreen=\"\" loading=\"lazy\"\n  referrerpolicy=\"no-referrer-when-downgrade\"></iframe>`;\n\n    // 如果資料的資訊是空的，就顯示無的狀態\n    if (!data.WebsiteUrl) {\n        activityInner_websiteUrl.classList.add('text-dark');\n        activityInner_websiteUrl.classList.remove('text-info');\n        activityInner_websiteUrl.classList.toggle('text-decoration-underline');\n    };\n\n};\n\n\n//節慶活動內頁 - 呈現推薦列表\nfunction activityInner_renderRecommend(id) {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    // 取得單一資料 id\n    const targetId = id;\n\n    if (token !== undefined && targetId !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Activity?%24filter=ActivityID%20%20ne%20%27${targetId}%27&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                let thisData = data;\n\n                // 過濾 沒有 景點名稱、圖片、城市、類別的資料\n                thisData = thisData.filter((item) => item.ActivityName && item.City && item.Class1 && item.Picture.PictureUrl1);\n\n                // 組字串資料\n                let str = '';\n\n                // 畫面呈現為四筆資料，所以要跑四次迴圈\n                for (let i = 0; i < 4; i++) {\n\n                    // 隨機取得 陣列資料索引位置和資料\n                    let dataIndex = getRandom(thisData.length);\n                    let dataItem = thisData[dataIndex];\n\n                    // 如果與內頁 id 是一樣的話，就重跑一次迴圈\n                    if (dataItem.ActivityID === id) {\n                        i -= 1;\n                        continue;\n                    } else {    // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\n                        str += `<li class=\"swiper-slide\">\n                          <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\n                            <a href=\"./activity.html?id=${dataItem.ActivityID}\">\n                              <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\"  onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n                                alt=\"${dataItem.Description}\">\n                            </a>\n                          </div>\n                          <div class=\"py-1 py-md-2\">\n                            <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.ActivityName}</h5>\n                            <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                                src=\"./assets/images/spot16.png\" alt=\"城市\">${dataItem.City}</span>\n                          </div>\n                        </li>`;\n                    }\n                };\n\n                // 呈現在 活動內頁推薦列表\n                activityInner_recommend.innerHTML = str;\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 判斷網頁跳轉 路徑狀態\nfunction activity_getParameters() {\n    if (location.search) {\n        let id;\n        let city;\n        let keyword;\n\n        //將url  從 '?' 分切成兩部分，\n        const searchUrl = location.search.split('?');\n\n\n        //  如果取得參數是沒有 '&'的多個參數的話，就取得 id的值，並顯示資料內頁\n        if (!searchUrl[1].includes('&')) {\n            // 取得 路徑 id\n            id = searchUrl[1].split('=')[1];\n\n            // 呈現 節慶活動內頁\n            activityInner_getData(id)\n        } else {\n            // 如果取得參數是有 '&' 做連接 city 和 keyword的話，就顯示搜尋結果列表\n            const parameters = searchUrl[1].split('&');\n            console.log(parameters);\n\n            // 跑 forEach 取出 參數的 city 和 key 的值\n            parameters.forEach((parameter, index) => {\n                if (parameters[index].split('=')[0] === 'city') {\n                    // 取出 city 的值  並解碼\n                    city = decodeURIComponent(parameters[index].split('=')[1]);\n                } else if (parameters[index].split('=')[0] === 'keyword') {\n                    // 取出 keywodr 的值 並解碼\n                    keyword = decodeURIComponent(parameters[index].split('=')[1]);\n                };\n            });\n\n            // 呈現 節慶活動  搜尋結果列表\n            search_activity(city, keyword);\n        }\n    }\n};\n\n","\n\n\n// jQuery 初始化\n$(function () {\n  // 取得 TDX api  header 驗證\n  getAuthorizationHeader();\n\n\n  // 首頁- 取得資料\n  get_activity();\n  get_scenicSpot();\n  get_restaurant();\n\n\n  // 探索景點頁面 - 取得景點全部資料\n  scenicSpot_getAllData();\n  // 節慶活動頁面 - 取得活動全部資料\n  activity_getAllData();\n  // 品嘗美食頁面 - 取得活動全部資料\n  restaurant_getAllData();\n\n\n  // 取得 網址參數\n  if(location.pathname.includes('/activity.html')) {\n    activity_getParameters();\n  }\n\n  if(location.pathname.includes('/scenicSpot.html')) {\n    scenicSpot_getParameters();\n  }\n\n  if(location.pathname.includes('/restaurant.html')) {\n    restaurant_getParameters();\n  }\n\n  // loading 動畫\n  toggleLoading(true);\n  setTimeout(() => { toggleLoading(false);\n  }, 3000);\n});\n\n\n// baseUrl\nlet baseUrl = `https://tdx.transportdata.tw/api/basic/v2/Tourism`;\n\n\n\n// jQuery  取得 TDX api  header 驗證\nfunction getAuthorizationHeader() {\n  const parameter = {\n    grant_type: \"client_credentials\",\n    client_id: \"pi20120413-51900829-226c-41ea\",\n    client_secret: \"8094d91e-08e7-403f-81a2-59c5d0426a91\"\n  };\n\n  let auth_url = \"https://tdx.transportdata.tw/auth/realms/TDXConnect/protocol/openid-connect/token\";\n\n  $.ajax({\n    type: \"POST\",\n    url: auth_url,\n    crossDomain: true,\n    dataType: 'JSON',\n    data: parameter,\n    async: false,\n    success: function (data) {\n      const access_token = JSON.stringify(data.access_token);\n      const expires_in = JSON.stringify(data.expires_in);\n\n      // 存取 token \n      const token = document.cookie = `tourToken=${access_token}; expires=${new Date(expires_in)}; path=/`;\n    },\n    error: function (xhr, textStatus, thrownError) {\n      console.log('errorStatus:', textStatus);\n      console.log('Error:', thrownError);\n    }\n  });\n}\n\n\n","\n// 首頁 js\n\n// 呈現畫面 DOM \nconst home_activity = document.querySelector('.home_activity');\nconst home_scenicSpot = document.querySelector('.home_scenicSpot');\nconst home_restaurant = document.querySelector('.home_restaurant');\n\n// 搜尋按鈕\nconst home_searchBtn = document.querySelector('.search_btn');\n\n\n// 首頁 - 取得資料\n// 近期活動\nfunction get_activity() {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Activity?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                let thisData = data;\n\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                let data_activity = thisData.filter((item) => item.ActivityName && item.City && item.Class1);\n\n                //呈現畫面\n                if (home_activity) {\n                    render_activity(data_activity);\n                }\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n// 打卡景點\nfunction get_scenicSpot() {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/ScenicSpot?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                let thisData = data;\n\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                let data_scenicSpot = thisData.filter((item) => item.ScenicSpotName && item.City && item.Class1);\n\n                // 呈現畫面\n                if (home_scenicSpot) {\n                    render_scenicSpot(data_scenicSpot);\n                }\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n//餐廳資訊\nfunction get_restaurant() {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Restaurant?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                let thisData = data;\n\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                let data_restaurant = thisData.filter((item) => item.RestaurantName && item.City && item.Class);\n\n                //呈現畫面\n                if (home_restaurant) {\n                    render_restaurant(data_restaurant);\n                }\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 首頁- 呈現畫面\n//近期活動 \nfunction render_activity(arr) {\n\n    let str = '';\n\n    //  取得當前年份和月份\n    // 月份是從0開始，所以要加1，才會符合12個月/年\n    const month = new Date().getMonth() + 1;\n    const year = new Date().getFullYear();\n\n\n    // 畫面呈現為四筆資料，所以要跑四次迴圈\n    for (let i = 0; i < 4; i++) {\n\n        // 隨機取得 陣列資料索引位置和資料\n        let dataIndex = getRandom(arr.length);\n        let dataItem = arr[dataIndex];\n\n        // 取得最近活動還沒結束的時間，落在今年或明年。\n        const checkDate = parseInt(dataItem.EndTime.slice(0, 4)) >= year && parseInt(dataItem.EndTime.slice(5, 7)) >= month || parseInt(dataItem.EndTime.slice(0, 4)) > year;\n      \n\n        // 判斷 如果checkDate 為 false 重跑一次迴圈\n        if (checkDate === false) {\n            i -= 1;\n            continue;\n        } else {      // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\n            // 為 true 的話就組字串資料\n            str += `<div class=\"col mb-2\">\n          <div class=\"card\">\n            <div class=\"row g-0\">\n              <div class=\"col-4 overflow-hidden\">\n              <div class=\"ratio ratio-9x7  ratio-md-1x1\">\n                 <a class=\"imgWarp\" href=\"./activity.html?id=${dataItem.ActivityID}\">\n                 <img class=\" card-img img-cover\" src=\"${dataItem.Picture.PictureUrl1}\" onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png' alt=\"${dataItem.Description}\">\n                 </a>\n              </div>\n              </div>\n              <div class=\"col-8\">\n                <div class=\"card-body d-flex flex-column  justify-content-between py-md-1  py-lg-2 px-lg-5\">\n                  <div>\n                    <span class=\"card-text text-secondary fs-xs fs-lg-6\"> ${dataItem.StartTime.slice(0, 10)} - ${dataItem.EndTime.slice(0, 10)}</span>\n                    <h5 class=\"card-title fs-6 fs-lg-xl lh-base fw-bold mb-0 text-truncate\">${dataItem.ActivityName}</h5>\n                  </div>\n                  <div class=\"d-flex justify-content-between align-items-center\">\n                    <span class=\"card-text text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                        src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\n                    <a class=\"btn  btn-infoBtn   d-none d-md-inline-block shadow-none\" href=\"./activity.html?id=${dataItem.ActivityID}\"><span\n                        class=\"btn-inner\">詳細介紹 ❯\n                      </span></a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>`;\n        }\n    };\n\n    // 呈現畫面\n    home_activity.innerHTML = str;\n};\n\n\n// 打卡景點\nfunction render_scenicSpot(arr) {\n\n    let str = '';\n\n    // 畫面呈現為四筆資料，所以要跑四次迴圈\n    for (let i = 0; i < 4; i++) {\n\n        // 隨機取得 陣列資料索引位置和資料\n        let dataIndex = getRandom(arr.length);\n        let dataItem = arr[dataIndex];\n\n        // 如果沒縣市名字 就重跑一次迴圈\n        if (dataItem.City === undefined) {\n            i -= 1;\n            continue;\n        } else {    // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\n            str += `<li class=\"swiper-slide\">\n        <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\n          <a href=\"./scenicSpot.html?id=${dataItem.ScenicSpotID}\">\n            <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\"  onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n              alt=\"${dataItem.DescriptionDetail}\">\n          </a>\n        </div>\n        <div class=\"py-1 py-md-2\">\n          <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.ScenicSpotName}</h5>\n          <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n              src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\n        </div>\n      </li>`;\n        }\n    };\n\n    // 呈現畫面\n    home_scenicSpot.innerHTML = str;\n};\n\n\n// 餐廳資訊\nfunction render_restaurant(arr) {\n\n    let str = '';\n\n    // 畫面呈現為四筆資料，所以要跑四次迴圈\n    for (let i = 0; i < 4; i++) {\n\n        // 隨機取得 陣列資料索引位置和資料\n        let dataIndex = getRandom(arr.length);\n        let dataItem = arr[dataIndex];\n\n\n        // 如果沒縣市名字 就重跑一次迴圈\n        if (dataItem.City === undefined) {\n            i -= 1;\n            continue;\n        } else {     // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\n            str += `<li class=\"swiper-slide\">\n          <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\n            <a href=\"./restaurant.html?id=${dataItem.RestaurantID}\">\n              <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\" onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n                alt=\"${dataItem.DescriptionDetail}\">\n            </a>\n          </div>\n          <div class=\"py-1 py-md-2\">\n            <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.RestaurantName}</h5>\n            <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\n          </div>\n        </li>`;\n        }\n    };\n    // 呈現畫面\n    home_restaurant.innerHTML = str;\n};\n\n\n\n// 首頁 搜尋功能\nif (home_searchBtn) {\n    home_searchBtn.addEventListener('click', search_keyword);\n}\n\nfunction search_keyword() {\n    const search_type = document.querySelector('.search_type');\n    const search_keyword = document.querySelector('.search_keyword');\n\n    // encodeURIComponent  將 網址參數 中文 編碼成 '%E8%8A%B1'\n    //   console.log(encodeURIComponent('花'));\n    // decodeURIComponent =  將 網址參數 '%E8%8A%B1' 編碼成中文\n    //   console.log(decodeURIComponent('%E8%8A%B1'));\n\n    let encodedStr = encodeURIComponent(search_keyword.value.trim());\n\n    if (search_keyword.value.trim() !== '') {\n        window.location.href = `./${search_type.value}.html?city=全部縣市&keyword=${encodedStr}`;\n    }\n};\n\n","\n// 主要區塊 DOM \nconst restaurant_themeArea = document.querySelector('.restaurant_themeArea');\nconst restaurant_searchResult = document.querySelector('.restaurant_searchResult');\nconst restaurant_categoryInner = document.querySelector('.restaurant_categoryInner');\n\n\n// 搜尋欄位 DOM  \nconst restaurant_searchCity = document.querySelector('.restaurant_searchCity');\nconst restaurant_searchKeyword = document.querySelector('.restaurant_searchKeyword');\nconst restaurant_searchBtn = document.querySelector('.restaurant_searchBtn');\n\n\n// // 呈現畫面列表 DOM\nconst restaurant_categoryList = document.querySelector('.restaurant_categoryList');\nconst restaurant_resultList = document.querySelector('.restaurant_resultList');\nconst search_resultNum = document.querySelector('.search_resultNum');\n\n\n// //  麵包削列表\nconst restaurant_breadcrumb = document.querySelector('.restaurant_breadcrumb')\n\n\n// //  呈現品嘗美食內頁畫面 DOM\n// //    - swiper-banner\nconst restaurantInner_bannerSlides = document.querySelectorAll('.swiper-restaurant-banner .swiper-slide');\nconst restaurantInner_bannerBullets = document.querySelector('.swiper-pagination-bullets');\n\n\n//    - 景點內容\nconst restaurantInner_mame = document.querySelector('.restaurant_name');\nconst restaurantInner_category = document.querySelector('.restaurant_category');\nconst restaurantInner_description = document.querySelector('.restaurant_description');\nconst restaurantInner_time = document.querySelector('.restaurant_time');\nconst restaurantInner_phone = document.querySelector('.restaurant_phone');\nconst restaurantInner_address = document.querySelector('.restaurant_address');\nconst restaurantInner_websiteUrl = document.querySelector('.restaurant_websiteUrl');\nconst restaurantInner_map = document.querySelector('.restaurant_map');\n//    - 推薦景點\nconst restaurantInner_recommend = document.querySelector('.recommend_restaurant');\n\n\n// 資料 - 品嘗美食\nlet data_restaurant = [];\n\n// 資料 - 篩選類別資料\nlet data_restaurantResult = [];\n\n\n// 品嘗美食 - 取得活動全部資料\nfunction restaurant_getAllData() {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Restaurant?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                // 回傳的資料\n                const thisData = data;\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                data_restaurant = thisData.filter((item) => item.RestaurantName && item.City && item.Class);\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 品嘗美食 - 切換類別樣式 & 取值\nif (restaurant_categoryList) {\n    restaurant_categoryList.addEventListener('click', restaurant_changeCategory);\n};\n\nfunction restaurant_changeCategory(e) {\n    e.preventDefault();\n\n    // 取出 卡片類片 的 DOM 和 值\n    let categoryVal = e.target.closest(\"li\").dataset.category;\n\n    // 類別篩選結果\n    let category_resultList = data_restaurant.filter((item) => item.Class === categoryVal);\n\n    data_restaurantResult = category_resultList;\n\n\n    // 呈現 結果\n    restaurant_renderResult(data_restaurantResult);\n\n    // 呈現結果數字\n    search_resultNum.textContent = data_restaurantResult.length;\n\n    // 更改 麵包削狀態\n    restaurant_breadcrumb.innerHTML =\n        `<a class=\"text-info\" href=\"./index.html\">首頁</a> /\n    <a class=\"breadcrumb-theme text-info\" href=\"./restaurant.html\">品嘗美食</a> /\n    <a class=\"breadcrumb-category text-secondary\" href=\"#\">${categoryVal}</a>`;\n};\n\n\n// 品嘗美食 - 呈現篩選結果\nfunction restaurant_renderResult(arr) {\n    let str = '';\n\n    // 如果有資料就顯示 類別篩選結果區塊\n    if (!arr.length) {\n        str += `<div class=\"text-center\">\n    <img src=\"./assets/images/nofound80.png\" alt=\"找不到資料\">\n    <p class=\"text-primary fw-bold\">目前查無資料<br>請重新搜尋</p>\n    </div>`\n    } else {\n        arr.forEach((item) => {\n            str += `\n    <div class=\"col-12 col-md-4 col-lg-3 mb-2 mb-md-4\">\n    <div class=\"resultList-card border-0\">\n      <div class=\"ratio ratio-17x9  ratio-md-5x4 rounded-5  overflow-hidden\">\n          <a href=\"./restaurant.html?id=${item.RestaurantID}\">\n              <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${item.Picture.PictureUrl1}\" onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n                  alt=\"${item.DescriptionDetail}\">\n          </a>\n      </div>\n      <div class=\"py-1 py-md-2\">\n          <h5 class=\"card-title-hover fs-m fs-md-xl fw-bold text-truncate mb-1\">${item.RestaurantName}\n          </h5>\n          <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                  src=\"./assets/images/spot16.png\" alt=\"spot\">${item.City}</span>\n      </div>\n    </div>\n   </div>`;\n        });\n    }\n\n    // 切換模式  隱藏 → 顯示\n    restaurant_searchResult.classList.toggle('d-none');\n\n    // 切換模式  顯示 → 隱藏\n    restaurant_themeArea.classList.toggle('d-none');\n\n    // 呈現結果畫面\n    restaurant_resultList.innerHTML = str;\n};\n\n\n// 品嘗美食 - 搜尋功能 & 關鍵字\nif (restaurant_searchBtn) {\n    restaurant_searchBtn.addEventListener('click', function (e) {\n        let city = restaurant_searchCity.value;\n        let keyword = restaurant_searchKeyword.value;\n\n        if (keyword.trim() !== '') {\n            search_restaurant(city, keyword);\n        }\n    });\n};\n\n\nfunction search_restaurant(city, keyword) {\n\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Restaurant?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                // 回傳的資料\n                let thisData = data;\n\n                // 篩選結果資料\n                let resurltData = []\n\n                // 過濾資料 排除沒有類別 、景點名字、城市\n                thisData = thisData.filter((item) => item.RestaurantName && item.City && item.Class);\n\n\n                // 如果 city 的值是全部縣市的，把 keyword符合的資料篩選出來\n                if (city === '全部縣市') {\n                    resurltData = thisData.filter((item) => item.RestaurantName.match(keyword));\n                } else {\n                    // 如果 city 的值是其他縣市，把 city 和 keyword符合的資料篩選出來\n                    resurltData = thisData.filter((item) => item.City === city && item.RestaurantName.match(keyword));\n                }\n\n                //   呈現篩選結果\n                restaurant_renderResult(resurltData);\n\n                // 呈現結果數字\n                search_resultNum.textContent = resurltData.length;\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 品嘗美食內頁 - 取得活動單一資料\nfunction restaurantInner_getData(id) {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    // 取得單一資料 id\n    const targetId = id;\n\n    if (token !== undefined && targetId !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Restaurant?%24filter=contains%28RestaurantID%2C%27${targetId}%27%29&%24top=30&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                const thisData = data[0];\n\n                //呈現 內頁資料內容\n                restaurantInner_renderData(thisData);\n\n                //呈現 推薦列表\n                restaurantInner_renderRecommend(targetId);\n\n                // 隱藏 探索景點主要內容\n                restaurant_themeArea.classList.toggle('d-none');\n\n                // 顯示 內頁內容\n                restaurant_categoryInner.classList.toggle('d-none');\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 品嘗美食內頁 -  呈現 內頁資料內容\nfunction restaurantInner_renderData(data) {\n\n\n    // 計算 banner 圖片數量\n    let bannerPhoto_num = 0;\n\n\n    // banner 圖片\n    // 第一張圖片\n    if (data.Picture.PictureUrl1) {\n        restaurantInner_bannerSlides[0].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl1}\"  alt=\"${data.Picture.PictureDescription1}\">`;\n        bannerPhoto_num++;\n    } else {\n        restaurantInner_bannerSlides[0].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"./assets/images/NoImage-345x160.png\" alt=\"NoImage\">`;\n        bannerPhoto_num++;\n    };\n\n    // 第二章圖片\n    if (data.Picture.PictureUrl2) {\n        restaurantInner_bannerSlides[1].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl2}\" alt=\"${data.Picture.PictureDescription2}\">`;\n        bannerPhoto_num++;\n    } else {\n        restaurantInner_bannerSlides[1].remove();\n        restaurantInner_bannerBullets.classList.add('d-none');\n    };\n\n    // 第三張圖片\n    if (data.Picture.PictureUrl3) {\n        restaurantInner_bannerSlides[2].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl3}\" alt=\"${data.Picture.PictureDescription3}\">`;\n        bannerPhoto_num++;\n    } else {\n        restaurantInner_bannerSlides[2].remove();\n        restaurantInner_bannerBullets.classList.add('d-none');\n    };\n\n    // 圖片少於一張或剛好一張，把導覽方向鍵取消\n    if (bannerPhoto_num <= 1) {\n        document.querySelector('.swiper-button-next').classList.add('d-md-none');\n        document.querySelector('.swiper-button-prev').classList.add('d-md-none');\n    }\n\n\n    // 麵包削\n    restaurant_breadcrumb.innerHTML = `<a class=\"text-info\" href=\"./index.html\">首頁</a> /\n        <a class=\"breadcrumb-theme text-info\" href=\"./restaurant.html\">品嘗美食</a> /\n        <a class=\"breadcrumb-city text-info\" href=\"#\">${data.City}</a> /\n        <a class=\"breadcrumb-location text-secondary\" href=\"#\">${data.RestaurantName}</a>`;\n\n\n    // 餐廳名稱\n    restaurantInner_mame.textContent = data.RestaurantName;\n    // 餐廳類別\n    restaurantInner_category.textContent = `#  ${data.Class}`;\n    // 餐廳介紹\n    restaurantInner_description.textContent = data.Description;\n    // 餐廳時間\n    restaurantInner_time.textContent = data.OpenTime || '無';\n    // 餐廳電話\n    restaurantInner_phone.setAttribute('href', `tel:+${data.Phone}`);\n    restaurantInner_phone.textContent = data.Phone || '無';\n\n    // 餐廳地址\n    restaurantInner_address.textContent = data.Address || '無';\n    // 餐廳網址\n    restaurantInner_websiteUrl.setAttribute('href', data.WebsiteUrl);\n    restaurantInner_websiteUrl.textContent = data.WebsiteUrl || '無';\n\n    // 餐廳地圖\n    restaurantInner_map.innerHTML = `<iframe class=\"rounded-4\"\n      src=\"https://www.google.com/maps?q=${data.Address}(${data.RestaurantName})&hl=zh-TW&z=15&t=&output=embed\"\n      width=\"600\" height=\"450\" style=\"border:0;\" allowfullscreen=\"\" loading=\"lazy\"\n      referrerpolicy=\"no-referrer-when-downgrade\"></iframe>`;\n\n    if (!data.WebsiteUrl) {\n        restaurantInner_websiteUrl.classList.add('text-dark');\n        restaurantInner_websiteUrl.classList.remove('text-info');\n        restaurantInner_websiteUrl.classList.toggle('text-decoration-underline');\n    };\n};\n\n\n//品嘗美食內頁 - 呈現推薦列表\nfunction restaurantInner_renderRecommend(id) {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    // 取得單一資料 id\n    const targetId = id;\n\n    if (token !== undefined && targetId !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/Restaurant?%24filter=RestaurantID%20%20ne%20%27${targetId}%27&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                let thisData = data;\n\n                // 過濾 沒有 景點名稱、圖片、城市、類別的資料\n                thisData = thisData.filter((item) => item.RestaurantName && item.City && item.Class && item.Picture.PictureUrl1);\n\n                // 組字串資料\n                let str = '';\n\n                // 畫面呈現為四筆資料，所以要跑四次迴圈\n                for (let i = 0; i < 4; i++) {\n\n                    // 隨機取得 陣列資料索引位置和資料\n                    let dataIndex = getRandom(thisData.length);\n                    let dataItem = thisData[dataIndex];\n\n                    // 如果與內頁 id 是一樣的話，就重跑一次迴圈\n                    if (dataItem.RestaurantID === id) {\n                        i -= 1;\n                        continue;\n                    } else {    // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\n                        str += `<li class=\"swiper-slide\">\n                          <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\n                            <a href=\"./restaurant.html?id=${dataItem.RestaurantID}\">\n                              <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\"  onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n                                alt=\"${dataItem.Description}\">\n                            </a>\n                          </div>\n                          <div class=\"py-1 py-md-2\">\n                            <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.RestaurantName}</h5>\n                            <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                                src=\"./assets/images/spot16.png\" alt=\"城市\">${dataItem.City}</span>\n                          </div>\n                        </li>`;\n                    }\n                };\n\n                // 呈現在 活動內頁推薦列表\n                restaurantInner_recommend.innerHTML = str;\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 判斷網頁跳轉 路徑狀態\nfunction restaurant_getParameters() {\n    if (location.search) {\n        let id;\n        let city;\n        let keyword;\n\n        //將url  從 '?' 分切成兩部分，\n        const searchUrl = location.search.split('?');\n\n\n        //  如果取得參數是沒有 '&'的多個參數的話，就取得 id的值，並顯示資料內頁\n        if (!searchUrl[1].includes('&')) {\n            // 取得 路徑 id\n            id = searchUrl[1].split('=')[1];\n\n            // 呈現 品嘗美食內頁\n            restaurantInner_getData(id)\n        } else {\n            // 如果取得參數是有 '&' 做連接 city 和 keyword的話，就顯示搜尋結果列表\n            const parameters = searchUrl[1].split('&');\n\n            // 跑 forEach 取出 參數的 city 和 key 的值\n            parameters.forEach((parameter, index) => {\n                if (parameters[index].split('=')[0] === 'city') {\n                    // 取出 city 的值  並解碼\n                    city = decodeURIComponent(parameters[index].split('=')[1]);\n                } else if (parameters[index].split('=')[0] === 'keyword') {\n                    // 取出 keywodr 的值 並解碼\n                    keyword = decodeURIComponent(parameters[index].split('=')[1]);\n                };\n            });\n\n            // 呈現 品嘗美食  搜尋結果列表\n            search_restaurant(city, keyword);\n        }\n    }\n}\n\n","\n// 主要區塊 DOM \nconst scenicSpot_themeArea = document.querySelector('.scenicSpot_themeArea');\nconst scenicSpot_categoryInner = document.querySelector('.scenicSpot_categoryInner');\nconst scenicSpot_searchResult = document.querySelector('.scenicSpot_searchResult');\n\n\n// 搜尋欄位 DOM\nconst scenicSpot_searchCity = document.querySelector('.scenicSpot_searchCity');\nconst scenicSpot_searchKeyword = document.querySelector('.scenicSpot_searchKeyword');\nconst scenicSpot_searchBtn = document.querySelector('.scenicSpot_searchBtn');\n\n\n// 呈現畫面列表 DOM\nconst scenicSpot_categoryList = document.querySelector('.scenicSpot_categoryList');\nconst scenicSpot_resultList = document.querySelector('.scenicSpot_resultList');\nconst search_resultNum = document.querySelector('.search_resultNum');\n\n//  麵包削列表\nconst scenicSpot_breadcrumb = document.querySelector('.scenicSpot_breadcrumb')\n\n\n//  呈現景點內頁畫面 DOM\n//    - swiper-banner\nconst scenicSpotInner_bannerSlides = document.querySelectorAll('.swiper-scenicSpot-banner .swiper-slide');\nconst scenicSpotInner_bannerBullets = document.querySelector('.swiper-pagination-bullets');\n//    - 景點內容\nconst scenicSpotInner_mame = document.querySelector('.scenicSpot_mame');\nconst scenicSpotInner_category = document.querySelector('.scenicSpot_category');\nconst scenicSpotInner_description = document.querySelector('.scenicSpot_description');\nconst scenicSpotInner_opentTime = document.querySelector('.scenicSpot_opentTime');\nconst scenicSpotInner_phone = document.querySelector('.scenicSpot_phone');\nconst scenicSpotInner_address = document.querySelector('.scenicSpot_address');\nconst scenicSpotInner_websiteUrl = document.querySelector('.scenicSpot_websiteUrl');\nconst scenicSpotInner_ticketInfo = document.querySelector('.scenicSpot_ticketInfo');\nconst scenicSpotInner_remarks = document.querySelector('.scenicSpot_remarks');\nconst scenicSpotInner_map = document.querySelector('.scenicSpot_map');\n//    - 推薦景點\nconst scenicSpotInner_recommend = document.querySelector('.recommend_scenicSpot');\n\n\n\n// 資料 - 探索景點\nlet data_scenicSpot = [];\n\n// 資料 - 篩選類別資料\nlet data_spotResult = [];\n\n\n// 探索景點 - 取得景點全部資料\nfunction scenicSpot_getAllData() {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            beforeSend: function () {\n                toggleLoading(true);\n            },\n            type: 'GET',\n            url: `${baseUrl}/ScenicSpot?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                // 回傳的資料\n                const thisData = data;\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                data_scenicSpot = thisData.filter((item) => item.ScenicSpotName && item.City && item.Class1);\n            },\n            complete: function () {\n                setTimeout(() => { toggleLoading(false);\n                }, 3000);\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 探索景點 - 切換類別樣式 & 取值\nif (scenicSpot_categoryList) {\n    scenicSpot_categoryList.addEventListener('click', scenicSpot_changeCategory);\n};\n\nfunction scenicSpot_changeCategory(e) {\n    e.preventDefault();\n\n\n    // 取出 卡片類片 的 DOM 和 值\n    let categoryVal = e.target.closest(\"li\").dataset.category;\n\n\n    // 類別篩選結果\n    let category_resultList = data_scenicSpot.filter((item) => item.Class1 === categoryVal);\n\n    data_spotResult = category_resultList;\n\n    //資料回傳 寫入分頁函式\n    // renderPages(data_spotResult, 1);\n\n    // 呈現 結果\n    scenicSpot_renderResult(data_spotResult);\n\n    // 呈現結果數字\n    search_resultNum.textContent = data_spotResult.length;\n\n    // 更改 麵包削狀態\n    scenicSpot_breadcrumb.innerHTML =\n        `<a class=\"text-info\" href=\"./index.html\">首頁</a> /\n    <a class=\"breadcrumb-theme text-info\" href=\"./scenicSpot.html\">探索景點</a> /\n    <a class=\"breadcrumb-category text-secondary\" href=\"#\">${categoryVal}</a>`;\n};\n\n\n\n// 探索景點 - 呈現篩選結果\nfunction scenicSpot_renderResult(arr) {\n    let str = '';\n\n    // 如果有資料就顯示 類別篩選結果區塊\n    if (!arr.length) {\n        str += `<div class=\"text-center\">\n    <img src=\"./assets/images/nofound80.png\" alt=\"找不到資料\">\n    <p class=\"text-primary fw-bold\">目前查無資料<br>請重新搜尋</p>\n    </div>`\n    } else {\n        arr.forEach((item) => {\n            str += `\n    <div class=\"col-12 col-md-4 col-lg-3 mb-2 mb-md-4\">\n    <div class=\"resultList-card border-0\">\n      <div class=\"ratio ratio-17x9  ratio-md-5x4 rounded-5  overflow-hidden\">\n          <a href=\"./scenicSpot.html?id=${item.ScenicSpotID}\">\n              <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${item.Picture.PictureUrl1}\" onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n                  alt=\"${item.DescriptionDetail}\">\n          </a>\n      </div>\n      <div class=\"py-1 py-md-2\">\n          <h5 class=\"card-title-hover fs-m fs-md-xl fw-bold text-truncate mb-1\">${item.ScenicSpotName}\n          </h5>\n          <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                  src=\"./assets/images/spot16.png\" alt=\"spot\">${item.City}</span>\n      </div>\n    </div>\n   </div>`;\n        });\n    }\n\n    // 切換模式  隱藏 → 顯示\n    scenicSpot_searchResult.classList.toggle('d-none');\n\n    // 切換模式  顯示 → 隱藏\n    scenicSpot_themeArea.classList.toggle('d-none');\n\n    // 呈現結果畫面\n    scenicSpot_resultList.innerHTML = str;\n};\n\n\n\n// 探索景點 - 搜尋功能 & 關鍵字\nif (scenicSpot_searchBtn) {\n    scenicSpot_searchBtn.addEventListener('click', function (e) {\n        let city = scenicSpot_searchCity.value;\n        let keyword = scenicSpot_searchKeyword.value;\n\n        if (keyword.trim() !== '') {\n            search_scenicSpot(city, keyword);\n        }\n    });\n};\n\n\n\nfunction search_scenicSpot(city, keyword) {\n\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    if (token !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/ScenicSpot?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                // 回傳的資料\n                let thisData = data;\n\n                // 篩選結果資料\n                let resurltData = []\n\n                // 過濾資料 排除沒有類別 1、景點名字、城市\n                thisData = thisData.filter((item) => item.ScenicSpotName && item.City && item.Class1);\n                \n\n\n                // 如果 city 的值是全部縣市的，把keyword符合的資料篩選出來\n                if (city === '全部縣市') {\n                    resurltData = thisData.filter((item) => item.ScenicSpotName.match(keyword));\n                    \n                } else {\n                    // 如果 city 的值是其他縣市，把 city 和 keyword符合的資料篩選出來\n                    resurltData = thisData.filter((item) => item.City === city && item.ScenicSpotName.match(keyword));\n                   \n                }\n\n                //   呈現篩選結果\n                scenicSpot_renderResult(resurltData);\n\n                // 呈現結果數字\n                search_resultNum.textContent = resurltData.length;\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 探索景點內頁 - 取得景點單一資料\nfunction scenicSpotInner_getData(id) {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    // 取得單一資料 id\n    const targetId = id;\n\n    if (token !== undefined && targetId !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/ScenicSpot?%24filter=contains%28ScenicSpotID%20%20%2C%20%27${targetId}%27%29&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                const thisData = data[0];\n               \n\n                //呈現 內頁資料內容\n                scenicSpotInner_renderData(thisData);\n\n                //呈現 推薦列表\n                scenicSpotInner_renderRecommend(targetId);\n\n                // 隱藏 探索景點主要內容\n                scenicSpot_themeArea.classList.toggle('d-none');\n\n                // 顯示 內頁內容\n                scenicSpot_categoryInner.classList.toggle('d-none');\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 探索景點內頁 -  呈現 內頁資料內容\nfunction scenicSpotInner_renderData(data) {\n\n    // 計算 banner 圖片數量\n    let bannerPhoto_num = 0;\n\n    // banner 圖片\n    // 第一張圖片\n    if (data.Picture.PictureUrl1) {\n        scenicSpotInner_bannerSlides[0].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl1}\"  alt=\"${data.Picture.PictureDescription1}\">`;\n        bannerPhoto_num++;\n    } else {\n        scenicSpotInner_bannerSlides[0].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"./assets/images/NoImage-345x160.png\" alt=\"NoImage\">`;\n        bannerPhoto_num++;\n    };\n\n    // 第二章圖片\n    if (data.Picture.PictureUrl2) {\n        scenicSpotInner_bannerSlides[1].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl2}\" alt=\"${data.Picture.PictureDescription2}\">`;\n        bannerPhoto_num++;\n    } else {\n        scenicSpotInner_bannerSlides[1].remove();\n        scenicSpotInner_bannerBullets.classList.add('d-none');\n    };\n\n    // 第三張圖片\n    if (data.Picture.PictureUrl3) {\n        scenicSpotInner_bannerSlides[2].innerHTML = `\n    <img class=\"w-100 h-100 img-cover\" src=\"${data.Picture.PictureUrl3}\" alt=\"${data.Picture.PictureDescription3}\">`;\n        bannerPhoto_num++;\n    } else {\n        scenicSpotInner_bannerSlides[2].remove();\n        scenicSpotInner_bannerBullets.classList.add('d-none');\n    };\n\n    // 圖片少於一張或剛好一張，把導覽方向鍵取消\n    if (bannerPhoto_num <= 1) {\n        document.querySelector('.swiper-button-next').classList.add('d-md-none');\n        document.querySelector('.swiper-button-prev').classList.add('d-md-none');\n    }\n\n\n    // 麵包削\n    scenicSpot_breadcrumb.innerHTML = `<a class=\"text-info\" href=\"./index.html\">首頁</a> /\n    <a class=\"breadcrumb-theme text-info\" href=\"./scenicSpot.html\">探索景點</a> /\n    <a class=\"breadcrumb-city text-info\" href=\"#\">${data.City}</a> /\n    <a class=\"breadcrumb-location text-secondary\" href=\"#\">${data.ScenicSpotName}</a>`;\n\n\n    // 景點名字\n    scenicSpotInner_mame.textContent = data.ScenicSpotName;\n    // 景點類別\n    scenicSpotInner_category.textContent = `#  ${data.Class1}`;\n    // 景點介紹\n    scenicSpotInner_description.textContent = data.DescriptionDetail;\n    // 景點開放時間\n    scenicSpotInner_opentTime.textContent = data.OpenTime || '無';\n    // 景點電話\n    scenicSpotInner_phone.setAttribute('href', `tel:+${data.Phone}`);\n    scenicSpotInner_phone.textContent = data.Phone || '無';\n    // 景點地址\n    scenicSpotInner_address.textContent = data.Address || '無';\n    // 景點網址\n    scenicSpotInner_websiteUrl.setAttribute('href', data.WebsiteUrl);\n    scenicSpotInner_websiteUrl.textContent = data.WebsiteUrl || '無';\n    // 景點售票資訊\n    scenicSpotInner_ticketInfo.textContent = data.TicketInfo || '無';\n    // 景點注意事項\n    scenicSpotInner_remarks.textContent = data.Remarks || '無';\n    // 景點地圖\n    scenicSpotInner_map.innerHTML = `<iframe class=\"rounded-4\"\n  src=\"https://www.google.com/maps?q=${data.Address}(${data.ScenicSpotName})&hl=zh-TW&z=15&t=&output=embed\"\n  width=\"600\" height=\"450\" style=\"border:0;\" allowfullscreen=\"\" loading=\"lazy\"\n  referrerpolicy=\"no-referrer-when-downgrade\"></iframe>`;\n\n    // 如果資料的資訊是空的，就顯示無的狀態\n\n    if (!data.WebsiteUrl) {\n        scenicSpotInner_websiteUrl.classList.add('text-dark');\n        scenicSpotInner_websiteUrl.classList.remove('text-info');\n        scenicSpotInner_websiteUrl.classList.toggle('text-decoration-underline');\n    };\n}\n\n\n//探索景點內頁 - 呈現推薦列表\nfunction scenicSpotInner_renderRecommend(id) {\n    // 取得 token\n    const token = JSON.parse(document.cookie.replace(/(?:(?:^|.*;\\s*)tourToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'));\n\n    // 取得單一資料 id\n    const targetId = id;\n\n    if (token !== undefined && targetId !== undefined) {\n        $.ajax({\n            type: 'GET',\n            url: `${baseUrl}/ScenicSpot?%24filter=ScenicSpotID%20%20ne%20%27${targetId}%27&%24format=JSON`,\n            headers: {\n                \"authorization\": \"Bearer \" + token,\n            },\n            async: false,\n            success: function (data) {\n                let thisData = data;\n\n                // 過濾 沒有 景點名稱、圖片、城市、類別的資料\n                thisData = thisData.filter((item) => item.ScenicSpotName && item.City && item.Class1 && item.Picture.PictureUrl1);\n\n                // 組字串資料\n                let str = '';\n\n                // 畫面呈現為四筆資料，所以要跑四次迴圈\n                for (let i = 0; i < 4; i++) {\n\n                    // 隨機取得 陣列資料索引位置和資料\n                    let dataIndex = getRandom(thisData.length);\n                    let dataItem = thisData[dataIndex];\n\n                    // 如果與內頁 id 是一樣的話，就重跑一次迴圈\n                    if (dataItem.ScenicSpotID === id) {\n                        i -= 1;\n                        continue;\n                    } else {    // onerror事件 : 當圖片不存在時或者因為網路原因載入失敗,將觸發onerror事件，替換預設圖片\n                        str += `<li class=\"swiper-slide\">\n                          <div class=\"ratio ratio-5x4 rounded-5  overflow-hidden\">\n                            <a href=\"./scenicSpot.html?id=${dataItem.ScenicSpotID}\">\n                              <img class=\"w-100 h-100 img-cover zoomImg\" src=\"${dataItem.Picture.PictureUrl1}\"  onerror=\"this.onerror=''; this.src='./assets/images/NoImage-255x200.png'\"\n                                alt=\"${dataItem.DescriptionDetail}\">\n                            </a>\n                          </div>\n                          <div class=\"py-1 py-md-2\">\n                            <h5 class=\"slide-title-hover fw-bold  fs-m fs-md-5 mb-1 text-truncate\">${dataItem.ScenicSpotName}</h5>\n                            <span class=\"text-secondary d-flex align-items-center\"><img class=\"me-1\"\n                                src=\"./assets/images/spot16.png\" alt=\"spot\">${dataItem.City}</span>\n                          </div>\n                        </li>`;\n                    }\n                };\n\n                // 呈現在 景點內頁推薦列表\n                scenicSpotInner_recommend.innerHTML = str;\n            },\n            error: function (xhr, textStatus, thrownError) {\n                console.log('errorStatus:', textStatus);\n                console.log('Error:', thrownError);\n            }\n        });\n    }\n};\n\n\n// 判斷網頁跳轉 路徑狀態\nfunction scenicSpot_getParameters() {\n    if (location.search) {\n        let id;\n        let city;\n        let keyword;\n\n        //將url  從 '?' 分切成兩部分，\n        const searchUrl = location.search.split('?');\n\n\n        //  如果取得參數是沒有 '&'的多個參數的話，就取得 id的值，並顯示資料內頁\n        if (!searchUrl[1].includes('&')) {\n            // 取得 路徑 id\n            id = searchUrl[1].split('=')[1];\n\n            // 呈現 探索景點內頁\n            scenicSpotInner_getData(id);\n\n        } else {\n            // 如果取得參數是有 '&' 做連接 city 和 keyword的話，就顯示搜尋結果列表\n            const parameters = searchUrl[1].split('&');\n            console.log(parameters);\n\n            // 跑 forEach 取出 參數的 city 和 key 的值\n            parameters.forEach((parameter, index) => {\n                if (parameters[index].split('=')[0] === 'city') {\n                    // 取出 city 的值  並解碼\n                    city = decodeURIComponent(parameters[index].split('=')[1]);\n                } else if (parameters[index].split('=')[0] === 'keyword') {\n                    // 取出 keywodr 的值 並解碼\n                    keyword = decodeURIComponent(parameters[index].split('=')[1]);\n                };\n            });\n            // 呈現 探索景點   搜尋結果列表\n            search_scenicSpot(city, keyword);\n        };\n    }\n};","// 首頁 - heroBanner \nconst swiper_heroBanner = new Swiper(\".swiper-heroBanner\", {\n    cssMode: true,\n    slidesPerView: 1,\n    loop: true,\n    autoplay: {\n      disableOnInteraction: false,\n      delay: 4000,\n    },\n    navigation: {\n        nextEl: \".swiper-button-next\",\n        prevEl: \".swiper-button-prev\",\n      },\n      pagination: {\n        el: \".swiper-pagination\",\n        clickable: true,\n      },\n  });\n  \n\n// 首頁 - 熱門打卡景點\nconst swiper_homeSpots = new Swiper(\".swiper-home-scenicSpot\", {\n  slidesPerView: 1.6,\n  spaceBetween: 16,\n  grid: {\n      rows: 1,\n      fill: 'row',\n  },\n  breakpoints:{\n    992: {\n        slidesPerView: 4,\n        spaceBetween: 30,\n        grid: {\n            rows: 1,\n            fill: 'row',\n        },\n    },\n    768: {\n        slidesPerView: 2.5,\n        spaceBetween: 30,\n        grid: {\n            rows: 1,\n            fill: 'row',\n        },\n    },\n  }\n});\n\n// 首頁 - 一再回訪美食\nconst swiper_homeRestaurant = new Swiper(\".swiper-home-restaurant\", {\n  slidesPerView: 1.6,\n  spaceBetween: 16,\n  grid: {\n      rows: 1,\n      fill: 'row',\n  },\n  breakpoints:{\n    992: {\n        slidesPerView: 4,\n        spaceBetween: 30,\n        grid: {\n            rows: 1,\n            fill: 'row',\n        },\n    },\n    768: {\n        slidesPerView: 2.5,\n        spaceBetween: 30,\n        grid: {\n            rows: 1,\n            fill: 'row',\n        },\n    },\n  }\n});\n\n\n// 探索景點 內頁 swiper banner\nconst swiper_spotsBanner = new Swiper(\".swiper-scenicSpot-banner\", {\n  cssMode: true,\n  slidesPerView: 1,\n  navigation: {\n      nextEl: \".swiper-button-next\",\n      prevEl: \".swiper-button-prev\",\n    },\n    pagination: {\n      el: \".swiper-pagination\",\n      clickable: true,\n    },\n});\n\n\n// 節慶活動 內頁 swiper banner\nconst swiper_activityBanner = new Swiper(\".swiper-activity-banner\", {\n  cssMode: true,\n  slidesPerView: 1,\n  navigation: {\n      nextEl: \".swiper-button-next\",\n      prevEl: \".swiper-button-prev\",\n    },\n    pagination: {\n      el: \".swiper-pagination\",\n      clickable: true,\n    },\n});\n\n\n// 品嘗美食 內頁 swiper banner\nconst swiper_restaurantBanner = new Swiper(\".swiper-restaurant-banner\", {\n  cssMode: true,\n  slidesPerView: 1,\n  navigation: {\n      nextEl: \".swiper-button-next\",\n      prevEl: \".swiper-button-prev\",\n    },\n    pagination: {\n      el: \".swiper-pagination\",\n      clickable: true,\n    },\n});\n\n\n\n// 推薦商品  swiper\nconst swiper_recommend = new Swiper(\".swiper-recommend\", {\n  slidesPerView: 1.6,\n  spaceBetween: 16,\n  grid: {\n      rows: 1,\n      fill: 'row',\n  },\n  breakpoints:{\n    992: {\n        slidesPerView: 4,\n        spaceBetween: 30,\n        grid: {\n            rows: 1,\n            fill: 'row',\n        },\n    },\n    768: {\n        slidesPerView: 2.5,\n        spaceBetween: 30,\n        grid: {\n            rows: 1,\n            fill: 'row',\n        },\n    },\n  }\n});\n\n","\n\n// 動態效果\n// jQuery 初始化\n$(function () {\n   // 漢堡動態效果\n   // 漢堡按鈕 綁定事件監聽，點擊後觸發加上切換 .open class功能\n   $('#toggler-burger').on('click', function () {\n      $(this).toggleClass('open');\n   })\n\n   // 導覽列滾動效果\n   let lastPos = 0;\n   $(window).on('scroll', function () {\n      let currentPos = window.scrollY;\n      //   往下滑\n      if (currentPos > lastPos) {\n         $('#navbar-toggle').css('top', '-100px');//讓navbar消失\n      } else {\n         $('#navbar-toggle').css('top', '0');//讓navbar出現\n      }\n      lastPos = currentPos;//再記住現在位置，跟未來的位置做比較\n   });\n\n\n   // goTop 動態效果\n   //選擇整個瀏覽器綁定監聽事件，使用 scroll 函式，並下判斷，如果瀏覽器的頂點超過 150x，\n  // 如果 .goTop 有 .hide 這個 Class，就執行切換 class，不然就增加 .hide。\n   $(window).on('scroll',function () {\n      if ($(window).scrollTop() > 150) {\n        if ($(\".goTop\").hasClass(\"hide\")) {\n          $(\".goTop\").toggleClass(\"hide\");\n        }\n      } else {\n        $(\".goTop\").addClass(\"hide\");\n      }\n    });\n\n   //  點擊 goTopBtn 按鈕後，html 與 body 給予動畫效果，並且讓捲軸上方回到 0 的位置，時間為 0.6秒。\n   $('#goTopBtn').on('click',function (e) {\n      e.preventDefault();\n      $('html , body').animate( { scrollTop: 0,},'600');\n    });\n    \n});\n\n\n\n// 亂數產生器函式\nfunction getRandom(num) {\n   return Math.floor(Math.random() * num);\n};\n\n\n// loading 載入動態\nfunction toggleLoading(show) {\n   //show的參數，從外部傳入如果是true 就 開啟loading，flase 就關閉\n   document.querySelector(\".loading\").style.display = show ? 'block' : 'none';\n};\n\n"]}